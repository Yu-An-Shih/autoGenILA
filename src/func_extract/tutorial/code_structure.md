# This is an introduction to the files in the src folder
## expr.h and expr.cpp
The functions here simple: they just reads the Verilog and store them in some simpe map data structure: mapping from a variable name to its Verilog statement. These data structure are for later further parsing into AST, which is done below. This simple map data structure is just for making it easier to parse Verilog to AST.

## parse_fill.h
It reads the Verilog and fills the simple maps mentioned above.


## ast.h and ast.cpp
1. Definition of the AST node(astNode)
2. Functons(add_xxx_node) that can be used to read a Verilog statement stored  and generate the corresponding ast node.


## op_constraint.cpp:
Functions that convert each ast node to a corresponding LLVM statement


## check_regs.cpp:
1. check_all_regs is the entry point for generating a llvm based update function for a register. It calls all the above functions for this purpose.


## get_all_update.cpp:
1. get_all_update is the top function: it controls every thing from cleaning Verilog, to parsing into AST, generating LLVM, and call LLVM-opt to do the simplification. It also calls the check_regs.cpp


## read_instr.h
It is used to read the instruction info in instr.txt

## ins_context_stack
the HierCtx class is used to store information about each Verilog instance, in an hierarchical way. These information are needed when parsing a hierarchical design, since sub modules are translated to functions in LLVM, and we need to know what are its inputs, etc.

## global_data_struct
This file defines some data structure used for generating LLVM. 
1. InstrInfo_t: for instructions
2. FuncInfo_t: information for functions that have been generated by LLVM
3. ModuleInfo_t: information about Verilog modules, such as its inputs/outputs, connections between instances, registers in the module, etc.
4. Context_t: when generating LLVM, we often need to enter a submodule, or exit from a submodule. Each enter and exit would cause a switch of context. The context contains information about the current instance being visited.
